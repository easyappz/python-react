[
  {
    "name": "Открытие модального окна карточки",
    "steps": [
      {
        "action": "navigate",
        "url": "{domain}/register"
      },
      {
        "action": "fill",
        "selector": "[data-testid='register-email']",
        "value": "cardmodal@example.com"
      },
      {
        "action": "fill",
        "selector": "[data-testid='register-username']",
        "value": "cardmodaluser"
      },
      {
        "action": "fill",
        "selector": "[data-testid='register-password']",
        "value": "password123"
      },
      {
        "action": "fill",
        "selector": "[data-testid='register-password-confirm']",
        "value": "password123"
      },
      {
        "action": "click",
        "selector": "[data-testid='register-submit']"
      },
      {
        "action": "waitForRequests",
        "timeout": 3000
      },
      {
        "action": "click",
        "selector": "[data-testid='create-board-button']"
      },
      {
        "action": "wait",
        "delay": 500
      },
      {
        "action": "fill",
        "selector": "[data-testid='board-title-input']",
        "value": "Доска для модалки"
      },
      {
        "action": "click",
        "selector": "[data-testid='submit-board-button']"
      },
      {
        "action": "waitForRequests",
        "timeout": 3000
      },
      {
        "action": "click",
        "selector": ".board-card"
      },
      {
        "action": "waitForRequests",
        "timeout": 2000
      },
      {
        "action": "click",
        "selector": "[data-testid='add-column-trigger']"
      },
      {
        "action": "wait",
        "delay": 500
      },
      {
        "action": "fill",
        "selector": "[data-testid='column-title-input']",
        "value": "Колонка"
      },
      {
        "action": "click",
        "selector": "[data-testid='column-submit-btn']"
      },
      {
        "action": "waitForRequests",
        "timeout": 2000
      },
      {
        "action": "click",
        "selector": "[data-testid='add-card-trigger']"
      },
      {
        "action": "wait",
        "delay": 500
      },
      {
        "action": "fill",
        "selector": "[data-testid='card-title-input']",
        "value": "Тестовая карточка"
      },
      {
        "action": "click",
        "selector": "[data-testid='card-submit-btn']"
      },
      {
        "action": "waitForRequests",
        "timeout": 2000
      },
      {
        "action": "click",
        "selector": "[data-testid='card-title']"
      },
      {
        "action": "wait",
        "delay": 500
      }
    ],
    "assertions": [
      {
        "type": "visibility",
        "selector": "[data-testid='card-modal']"
      },
      {
        "type": "visibility",
        "selector": "[data-testid='card-title']"
      }
    ]
  },
  {
    "name": "Редактирование названия карточки",
    "steps": [
      {
        "action": "click",
        "selector": "[data-testid='card-title']"
      },
      {
        "action": "wait",
        "delay": 300
      },
      {
        "action": "fill",
        "selector": "[data-testid='card-title-input']",
        "value": "Обновленное название"
      },
      {
        "action": "wait",
        "delay": 500
      }
    ],
    "assertions": [
      {
        "type": "visibility",
        "selector": "[data-testid='card-title-input']"
      }
    ]
  },
  {
    "name": "Добавление описания карточки",
    "steps": [
      {
        "action": "click",
        "selector": "[data-testid='tab-description']"
      },
      {
        "action": "wait",
        "delay": 300
      },
      {
        "action": "click",
        "selector": "[data-testid='description-view']"
      },
      {
        "action": "wait",
        "delay": 300
      },
      {
        "action": "fill",
        "selector": "[data-testid='description-textarea']",
        "value": "Описание тестовой карточки"
      },
      {
        "action": "click",
        "selector": "[data-testid='save-description-btn']"
      },
      {
        "action": "waitForRequests",
        "timeout": 2000
      }
    ],
    "assertions": [
      {
        "type": "visibility",
        "selector": "[data-testid='description-view']"
      }
    ]
  },
  {
    "name": "Добавление чек-листа",
    "steps": [
      {
        "action": "click",
        "selector": "[data-testid='tab-checklists']"
      },
      {
        "action": "wait",
        "delay": 300
      },
      {
        "action": "click",
        "selector": "[data-testid='add-checklist-btn']"
      },
      {
        "action": "wait",
        "delay": 300
      },
      {
        "action": "fill",
        "selector": "[data-testid='checklist-title-input']",
        "value": "Тестовый чек-лист"
      },
      {
        "action": "click",
        "selector": "[data-testid='save-checklist-btn']"
      },
      {
        "action": "waitForRequests",
        "timeout": 2000
      }
    ],
    "assertions": [
      {
        "type": "visibility",
        "selector": "[data-testid='checklist-title-input']"
      }
    ]
  },
  {
    "name": "Добавление комментария",
    "steps": [
      {
        "action": "click",
        "selector": "[data-testid='tab-comments']"
      },
      {
        "action": "wait",
        "delay": 300
      },
      {
        "action": "fill",
        "selector": "[data-testid='comment-textarea']",
        "value": "Тестовый комментарий"
      },
      {
        "action": "click",
        "selector": "[data-testid='add-comment-btn']"
      },
      {
        "action": "waitForRequests",
        "timeout": 2000
      }
    ],
    "assertions": [
      {
        "type": "visibility",
        "selector": "[data-testid='comment-textarea']"
      }
    ]
  },
  {
    "name": "Закрытие модального окна",
    "steps": [
      {
        "action": "click",
        "selector": "[data-testid='close-modal-btn']"
      },
      {
        "action": "wait",
        "delay": 300
      },
      {
        "action": "navigate",
        "url": "{domain}/"
      },
      {
        "action": "wait",
        "delay": 1000
      },
      {
        "action": "click",
        "selector": "[data-testid='logout-button']"
      },
      {
        "action": "waitForRequests",
        "timeout": 2000
      }
    ],
    "assertions": [
      {
        "type": "url",
        "expectedUrl": "{domain}/login"
      }
    ]
  }
]
