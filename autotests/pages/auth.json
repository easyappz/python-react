[
  {
    "name": "Регистрация нового пользователя",
    "steps": [
      {
        "action": "navigate",
        "url": "{domain}/register"
      },
      {
        "action": "fill",
        "selector": "[data-testid='email-input']",
        "value": "authtest1@example.com"
      },
      {
        "action": "fill",
        "selector": "[data-testid='username-input']",
        "value": "authuser1"
      },
      {
        "action": "fill",
        "selector": "[data-testid='password-input']",
        "value": "testpass123"
      },
      {
        "action": "fill",
        "selector": "[data-testid='password-confirm-input']",
        "value": "testpass123"
      },
      {
        "action": "click",
        "selector": "[data-testid='register-button']"
      },
      {
        "action": "waitForRequests",
        "timeout": 3000
      },
      {
        "action": "click",
        "selector": "[data-testid='logout-button']"
      },
      {
        "action": "waitForRequests",
        "timeout": 2000
      }
    ],
    "assertions": [
      {
        "type": "url",
        "expectedUrl": "{domain}/login"
      }
    ]
  },
  {
    "name": "Выход и вход существующего пользователя",
    "steps": [
      {
        "action": "navigate",
        "url": "{domain}/register"
      },
      {
        "action": "fill",
        "selector": "[data-testid='email-input']",
        "value": "authtest2@example.com"
      },
      {
        "action": "fill",
        "selector": "[data-testid='username-input']",
        "value": "authuser2"
      },
      {
        "action": "fill",
        "selector": "[data-testid='password-input']",
        "value": "testpass123"
      },
      {
        "action": "fill",
        "selector": "[data-testid='password-confirm-input']",
        "value": "testpass123"
      },
      {
        "action": "click",
        "selector": "[data-testid='register-button']"
      },
      {
        "action": "waitForRequests",
        "timeout": 3000
      },
      {
        "action": "click",
        "selector": "[data-testid='logout-button']"
      },
      {
        "action": "waitForRequests",
        "timeout": 2000
      },
      {
        "action": "fill",
        "selector": "[data-testid='username-input']",
        "value": "authuser2"
      },
      {
        "action": "fill",
        "selector": "[data-testid='password-input']",
        "value": "testpass123"
      },
      {
        "action": "click",
        "selector": "[data-testid='login-button']"
      },
      {
        "action": "waitForRequests",
        "timeout": 3000
      },
      {
        "action": "click",
        "selector": "[data-testid='logout-button']"
      },
      {
        "action": "waitForRequests",
        "timeout": 2000
      }
    ],
    "assertions": [
      {
        "type": "url",
        "expectedUrl": "{domain}/login"
      }
    ]
  },
  {
    "name": "Переключение языка на странице входа",
    "steps": [
      {
        "action": "navigate",
        "url": "{domain}/login"
      },
      {
        "action": "click",
        "selector": "[data-testid='language-toggle']"
      },
      {
        "action": "wait",
        "delay": 500
      }
    ],
    "assertions": [
      {
        "type": "visibility",
        "selector": "[data-testid='username-input']"
      }
    ]
  },
  {
    "name": "Навигация между страницами регистрации и входа",
    "steps": [
      {
        "action": "navigate",
        "url": "{domain}/login"
      },
      {
        "action": "click",
        "selector": "[data-testid='register-link']"
      },
      {
        "action": "wait",
        "delay": 500
      },
      {
        "action": "click",
        "selector": "[data-testid='login-link']"
      },
      {
        "action": "wait",
        "delay": 500
      }
    ],
    "assertions": [
      {
        "type": "url",
        "expectedUrl": "{domain}/login"
      }
    ]
  },
  {
    "name": "Проверка 404 страницы",
    "steps": [
      {
        "action": "navigate",
        "url": "{domain}/nonexistent-page"
      },
      {
        "action": "wait",
        "delay": 500
      }
    ],
    "assertions": [
      {
        "type": "visibility",
        "selector": "[data-testid='error-code']"
      },
      {
        "type": "text",
        "selector": "[data-testid='error-code']",
        "expectedText": "404"
      }
    ]
  }
]
